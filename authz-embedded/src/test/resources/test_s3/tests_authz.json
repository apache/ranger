[
  {
    "comment": "tests for path mybucket/data/path1/file.orc"
  },
  {
    "request": {
      "requestId": "path1-r-user read mybucket/data/path1/file.orc",
      "user":      { "name": "path1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path1-r-user read mybucket/data/path1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 1, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path1-r-user write mybucket/data/path1/file.orc",
      "user":      { "name": "path1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path1-r-user write mybucket/data/path1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path1-r-user read,write mybucket/data/path1/file.orc",
      "user":      { "name": "path1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path1-r-user read,write mybucket/data/path1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  1, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path1-rw-user write mybucket/data/path1/file.orc",
      "user":      { "name": "path1-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path1-rw-user write mybucket/data/path1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  1, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path1-rw-user read,write mybucket/data/path1/file.orc",
      "user":      { "name": "path1-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path1-rw-user read,write mybucket/data/path1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  1, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  1, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path2-r-user read mybucket/data/path1/file.orc",
      "user":      { "name": "path2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path2-r-user read mybucket/data/path1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path2-r-user write mybucket/data/path1/file.orc",
      "user":      { "name": "path2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path2-r-user write mybucket/data/path1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user read mybucket/data/path1/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user read mybucket/data/path1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 3, "version": 2 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user write mybucket/data/path1/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user write mybucket/data/path1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },

  {
    "comment": "tests for path mybucket/data/path2/file.orc"
  },
  {
    "request": {
      "requestId": "path2-r-user read mybucket/data/path2/file.orc",
      "user":      { "name": "path2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path2-r-user read mybucket/data/path2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 2, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path2-r-user write mybucket/data/path2/file.orc",
      "user":      { "name": "path2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path2-r-user write mybucket/data/path2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path2-r-user read,write mybucket/data/path2/file.orc",
      "user":      { "name": "path2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path2-r-user read,write mybucket/data/path2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  2, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path2-rw-user write mybucket/data/path2/file.orc",
      "user":      { "name": "path2-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path2-rw-user write mybucket/data/path2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  2, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path2-rw-user read,write mybucket/data/path2/file.orc",
      "user":      { "name": "path2-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path2-rw-user read,write mybucket/data/path2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  2, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  2, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path1-r-user read mybucket/data/path2/file.orc",
      "user":      { "name": "path1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path1-r-user read mybucket/data/path2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "path1-r-user write mybucket/data/path2/file.orc",
      "user":      { "name": "path1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "path1-r-user write mybucket/data/path2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user read mybucket/data/path2/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user read mybucket/data/path2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 3, "version": 2 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user write mybucket/data/path2/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/path2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user write mybucket/data/path2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },

  {
    "comment": "tests for path mybucket/data/tag1/file.orc"
  },
  {
    "request": {
      "requestId": "tag1-r-user read mybucket/data/tag1/file.orc",
      "user":      { "name": "tag1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag1-r-user read mybucket/data/tag1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 11, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag1-r-user write mybucket/data/tag1/file.orc",
      "user":      { "name": "tag1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag1-r-user write mybucket/data/tag1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag1-r-user read,write mybucket/data/tag1/file.orc",
      "user":      { "name": "tag1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag1-r-user read,write mybucket/data/tag1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  11, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag1-rw-user write mybucket/data/tag1/file.orc",
      "user":      { "name": "tag1-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag1-rw-user write mybucket/data/tag1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  11, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag1-rw-user read,write mybucket/data/tag1/file.orc",
      "user":      { "name": "tag1-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag1-rw-user read,write mybucket/data/tag1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  11, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  11, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag2-r-user read mybucket/data/tag1/file.orc",
      "user":      { "name": "tag2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag2-r-user read mybucket/data/tag1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag2-r-user write mybucket/data/tag1/file.orc",
      "user":      { "name": "tag2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag2-r-user write mybucket/data/tag1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user read mybucket/data/tag1/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user read mybucket/data/tag1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 3, "version": 2 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user write mybucket/data/tag1/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user write mybucket/data/tag1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },


  {
    "comment": "tests for path mybucket/data/tag2/file.orc"
  },
  {
    "request": {
      "requestId": "tag2-r-user read mybucket/data/tag2/file.orc",
      "user":      { "name": "tag2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag2-r-user read mybucket/data/tag2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 12, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag2-r-user write mybucket/data/tag2/file.orc",
      "user":      { "name": "tag2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag2-r-user write mybucket/data/tag2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag2-r-user read,write mybucket/data/tag2/file.orc",
      "user":      { "name": "tag2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag2-r-user read,write mybucket/data/tag2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  12, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag2-rw-user write mybucket/data/tag2/file.orc",
      "user":      { "name": "tag2-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag2-rw-user write mybucket/data/tag2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  12, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag2-rw-user read,write mybucket/data/tag2/file.orc",
      "user":      { "name": "tag2-rw-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag2-rw-user read,write mybucket/data/tag2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  12, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "ALLOW", "policy": { "id":  12, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag1-r-user read mybucket/data/tag2/file.orc",
      "user":      { "name": "tag1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag1-r-user read mybucket/data/tag2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "tag1-r-user write mybucket/data/tag2/file.orc",
      "user":      { "name": "tag1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "tag1-r-user write mybucket/data/tag2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user read mybucket/data/tag2/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user read mybucket/data/tag2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 3, "version": 2 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user write mybucket/data/tag2/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/tag2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user write mybucket/data/tag2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },


  {
    "comment": "tests for path mybucket/data/ds1/file.orc"
  },
  {
    "request": {
      "requestId": "ds1-r-user read mybucket/data/ds1/file.orc",
      "user":      { "name": "ds1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds1-r-user read mybucket/data/ds1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 41, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds1-r-user write mybucket/data/ds1/file.orc",
      "user":      { "name": "ds1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds1-r-user write mybucket/data/ds1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds1-r-user read,write mybucket/data/ds1/file.orc",
      "user":      { "name": "ds1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds1/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds1-r-user read,write mybucket/data/ds1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  41, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds2-r-user read mybucket/data/ds1/file.orc",
      "user":      { "name": "ds2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds2-r-user read mybucket/data/ds1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds2-r-user write mybucket/data/ds1/file.orc",
      "user":      { "name": "ds2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds2-r-user write mybucket/data/ds1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user read mybucket/data/ds1/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds1/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user read mybucket/data/ds1/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 3, "version": 2 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user write mybucket/data/ds1/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds1/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user write mybucket/data/ds1/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },


  {
    "comment": "tests for path mybucket/data/ds2/file.orc"
  },
  {
    "request": {
      "requestId": "ds2-r-user read mybucket/data/ds2/file.orc",
      "user":      { "name": "ds2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds2-r-user read mybucket/data/ds2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 42, "version": 1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds2-r-user write mybucket/data/ds2/file.orc",
      "user":      { "name": "ds2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds2-r-user write mybucket/data/ds2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds2-r-user read,write mybucket/data/ds2/file.orc",
      "user":      { "name": "ds2-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds2/file.orc" }, "action": "update", "permissions": [ "read", "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds2-r-user read,write mybucket/data/ds2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id":  42, "version": 1 } } },
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds1-r-user read mybucket/data/ds2/file.orc",
      "user":      { "name": "ds1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds1-r-user read mybucket/data/ds2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "ds1-r-user write mybucket/data/ds2/file.orc",
      "user":      { "name": "ds1-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "ds1-r-user write mybucket/data/ds2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user read mybucket/data/ds2/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds2/file.orc" }, "action": "read", "permissions": [ "read" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user read mybucket/data/ds2/file.orc",
      "decision":  "ALLOW",
      "permissions": {
        "read": { "permission": "read", "access": { "decision": "ALLOW", "policy": { "id": 3, "version": 2 } } }
      }
    }
  },
  {
    "request": {
      "requestId": "all-path-r-user write mybucket/data/ds2/file.orc",
      "user":      { "name": "all-path-r-user" },
      "access":    { "resource": { "name": "path:mybucket/data/ds2/file.orc" }, "action": "write", "permissions": [ "write" ] },
      "context":   { "serviceName": "dev_s3" }
    },
    "result": {
      "requestId": "all-path-r-user write mybucket/data/ds2/file.orc",
      "decision":  "DENY",
      "permissions": {
        "write": { "permission": "write", "access": { "decision": "DENY", "policy": { "id":  -1 } } }
      }
    }
  }
]